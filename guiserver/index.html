<!doctype html>

<!-- Home page of Lynk file sharing web gui updated to include two tables on for Lynks and one for the Lynk's files


@author Max Kernchen
@author Michael Bruce

@version: 12/11/2016

-->
<html lang="en">
<head>

    <!-- various js and css depences mainly bootstrap and jquery ui -->
    <meta charset="utf-8">
    <title>LYNX File Sharing</title>
    <link rel="stylesheet" type="text/css" href="css/bootstrap.min.css">
    <link rel="stylesheet" href="js/jquery-ui.css">
    <link rel="import" href="images/">
    <script src="js/jquery-1.12.2.min.js"></script>
    <script src="js/jquery-ui.js"></script>

    <script>

    //script for creating the dialog that pops up when create button is pressed
 $(document).ready(function(){
  var dlg =  $("#dialog").dialog({
   autoOpen: false,
     modal: true, title: 'Create A New Lynk', draggable: true, width: 230
  });
    //appends data from dialog to a form of id create
    dlg.parent().appendTo($("#create"));
    //opens dialog on click of id button createlynk
  $("#createlynk").click(function(){
   $("#dialog").dialog('open');
  });
 });
// script for creating a dialog which pops up when the join button is pressed
 $(document).ready(function(){
  var dlg =  $("#joindialog").dialog({
   autoOpen: false,
     modal: true, title: 'Join A Current Lynk', draggable: true, width: 230
  });
   // appends data with the dialog to a form of id join
    dlg.parent().appendTo($("#join"));
    //opens the dialog when the joinlynk button is pressed
  $("#joinlynk").click(function(){
   $("#joindialog").dialog('open');
  });
 });


{{.JSCode}}
// script for creating a dialog which pops up when the first file delete icon is pressed
 $(document).ready(function(){
  var dlg =  $("#remover0").dialog({
   autoOpen: false,
     modal: true, title: 'Are you sure', draggable: true, width: 230
  });
    dlg.parent().appendTo($("#remove0"));
  $("#fileremove0").click(function(){
   $("#remover0").dialog('open');
  });
  $("#close0").click(function(){
   $("#remover0").dialog('close');
  });
 });

 // script for creating a dialog which pops up when the second file delete icon is pressed
 $(document).ready(function(){
  var dlg =  $("#remover1").dialog({
   autoOpen: false,
     modal: true, title: 'Are you sure', draggable: true, width: 230
  });
    dlg.parent().appendTo($("#remove1"));
  $("#fileremove1").click(function(){
   $("#remover1").dialog('open');
  });
  $("#close1").click(function(){
   $("#remover1").dialog('close');
  });
 });

 // script for creating a dialog which pops up when third file delete icon is pressed
 $(document).ready(function(){
  var dlg =  $("#remover2").dialog({
   autoOpen: false,
     modal: true, title: 'Are you sure', draggable: true, width: 230
  });
    dlg.parent().appendTo($("#remove2"));
  $("#fileremove2").click(function(){
   $("#remover2").dialog('open');
  });
  $("#close2").click(function(){
   $("#remover2").dialog('close');
  });
 });

// script for creating a dialog which pops up when forth delete icon is pressed
 $(document).ready(function(){
  var dlg =  $("#remover3").dialog({
   autoOpen: false,
     modal: true, title: 'Are you sure', draggable: true, width: 230
  });
    dlg.parent().appendTo($("#remove3"));
  $("#fileremove3").click(function(){
   $("#remover3").dialog('open');
  });
  $("#close3").click(function(){
   $("#remover3").dialog('close');
  });
 });

 // script for creating a dialog which pops up when the fifth delete icon is pressed
 $(document).ready(function(){
  var dlg =  $("#remover4").dialog({
   autoOpen: false,
     modal: true, title: 'Are you sure', draggable: true, width: 230
  });
    dlg.parent().appendTo($("#remove4"));
  $("#fileremove4").click(function(){
   $("#remover4").dialog('open');
  });
  $("#close4").click(function(){
   $("#remover4").dialog('close');
  });
 });

// script for creating a dialog which pops up when sixth delete icon is pressed
 $(document).ready(function(){
  var dlg =  $("#remover5").dialog({
   autoOpen: false,
     modal: true, title: 'Are you sure', draggable: true, width: 230
  });
    dlg.parent().appendTo($("#remove5"));
  $("#fileremove5").click(function(){
   $("#remover5").dialog('open');
  });
  $("#close5").click(function(){
   $("#remover5").dialog('close');
  });
 });

// script for creating a dialog which pops up when seventh delete icon is pressed
 $(document).ready(function(){
  var dlg =  $("#remover6").dialog({
   autoOpen: false,
     modal: true, title: 'Are you sure', draggable: true, width: 230
  });
    dlg.parent().appendTo($("#remove6"));
  $("#fileremove6").click(function(){
   $("#remover6").dialog('open');
  });
  $("#close6").click(function(){
   $("#remover6").dialog('close');
  });
 });

// script for creating a dialog which pops up when eight delete icon is pressed
 $(document).ready(function(){
  var dlg =  $("#remover7").dialog({
   autoOpen: false,
     modal: true, title: 'Are you sure', draggable: true, width: 230
  });
    dlg.parent().appendTo($("#remove7"));
  $("#fileremove7").click(function(){
   $("#remover7").dialog('open');
  });
  $("#close7").click(function(){
   $("#remover7").dialog('close');
  });
 });

 // script for creating a dialog which pops up when the ninth delete icon is pressed
 $(document).ready(function(){
  var dlg =  $("#remover8").dialog({
   autoOpen: false,
     modal: true, title: 'Are you sure', draggable: true, width: 230
  });
    dlg.parent().appendTo($("#remove8"));
  $("#fileremove8").click(function(){
   $("#remover8").dialog('open');
  });
  $("#close8").click(function(){
   $("#remover8").dialog('close');
  });
 });

 // script for creating a dialog which pops up when the tenth delete icon is pressed
 $(document).ready(function(){
  var dlg =  $("#remover9").dialog({
   autoOpen: false,
     modal: true, title: 'Are you sure', draggable: true, width: 230
  });
    dlg.parent().appendTo($("#remove9"));
  $("#fileremove9").click(function(){
   $("#remover9").dialog('open');
  });
  $("#close9").click(function(){
   $("#remover9").dialog('close');
  });
 });


</script>
</head>

<style>
    .wrapper{width: 1200px;}
    #tableCont {float:left; width:500px;}
    #tableFiles{margin-left:650px; width:800px;}
    .highlight { background: CornflowerBlue ; }
    .transparent{ border: none; background-color: transparent;outline: none;}
    .icon {background: url('file-ex.png') no-repeat top left;}
    .icon-accessibility{ background-position: 0 0; width: 32px; height: 32px; }

</style>

<h1 id="header" align="center" style="color:PALETURQUOISE"><u>Lynx</u></h1>
<br>
<!-- our table of Lynks which is generated by the GUI Server -->
<div id="tableContainer" class="wrapper">
    <div id="tableCont">
        <table class="table" id="lynktable">
            <thead>
            <tr>
                <th>Lynk Name</th>
            </tr>
            </thead>
            <tbody>
            {{.Entries}}
            </tbody>
            <tfoot>
            <tr>
                <td >
                    <!-- the create button and its form data which is submitted upon pressing it -->
                    <form id="create" method="POST" action="/createlynx" >
                        <button type="button" class="transparent" data-toggle="tooltip" data-placement="bottom"
                                title="Create a Lynk"
                                id="createlynk" value="Create Lynk">
                            <img src="images/folder-plus.png">
                        </button>
                        <div id="dialog">
                            Directory Name
                            <input type="text" name="Name" required>
                            <br>
                            <input type="submit" class="btn btn-success " name="createnewlynk" value="Create">
                        </div>
                    </form>
                </td>
                <td>
                    <!-- the join button and its form data which submitted when the dialog button is pressed -->
                    <form id="join" method="POST" action="/joinlynx">
                        <button type="button" class="transparent" data-toggle="tooltip" data-placement="bottom"
                                title="Join a Lynk"
                                id="joinlynk" value="Join Lynk">
                            <img src=images/folder-down.png>
                        </button>
                        <div id="joindialog">
                            Meta.info Path
                            <input type="text" name="MetaPath" required>
                            <br>
                            <input type="submit" class="btn btn-info " name="joincurrentlynk" value="Join">
                        </div>
                    </form>
                </td>
            </tr>
            </tfoot>
        </table>
    </div>
    <!-- the table of files which displays the files for each lynk -->
    <div id="tableFiles">
        {{.FileHeader}}
        <table class="table table-hover" id="filetable">
            <thead>
            <tr>
                <th>Files</th>
                <th>Size</th>

            </tr>
            </thead>
            <tbody>
            {{.Files}}

            </tbody>
        </table>
    </div>
</div>

